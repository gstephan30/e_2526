{% extends "base.html" %}

{% block content %}
  <section class="page-section active">
    <h2>ğŸ“Š Modell-Dokumentation</h2>
    
    <div class="content-box">
      <h3>Mathematisches Prognosemodell fÃ¼r FuÃŸballergebnisse</h3>
      
      <p>
        Unser hochentwickeltes statistisches Modell basiert auf der Poisson-Verteilung und multivariater Regressionsanalyse zur Vorhersage von SpielausgÃ¤ngen in der U11 E-Junioren Staffel.
      </p>

      <h4>1. Grundlagen der Poisson-Verteilung</h4>
      <p>
        Die Wahrscheinlichkeit fÃ¼r genau <em>k</em> Tore folgt der Poisson-Verteilung:
      </p>
      <div class="equation">
        <em>P</em>(<em>X</em> = <em>k</em>) = (<em>Î»<sup>k</sup></em> Â· <em>e</em><sup>-<em>Î»</em></sup>) / <em>k</em>!
      </div>
      <p>
        wobei <em>Î»</em> die erwartete Anzahl der Tore (Erwartungswert) darstellt und <em>e</em> â‰ˆ 2.71828 die Eulersche Zahl ist.
      </p>

      <h4>2. Regressionsmodell fÃ¼r Tordifferenzen</h4>
      <p>
        Zur SchÃ¤tzung der MannschaftsstÃ¤rken verwenden wir ein lineares Regressionsmodell:
      </p>
      <div class="equation">
        <em>y<sub>i</sub></em> = <em>Î²</em><sub>0</sub> + Î£<sub><em>j</em>=1</sub><sup><em>n</em></sup> <em>Î²<sub>j</sub></em> Â· (<em>X<sub>heim,j</sub></em> - <em>X<sub>ausw,j</sub></em>) + <em>Îµ<sub>i</sub></em>
      </div>
      <p>
        Hierbei ist:
      </p>
      <ul>
        <li><em>y<sub>i</sub></em> = Tordifferenz des Spiels <em>i</em> (Tore<sub>heim</sub> - Tore<sub>ausw</sub>)</li>
        <li><em>Î²</em><sub>0</sub> = Konstante (Heimvorteil)</li>
        <li><em>Î²<sub>j</sub></em> = StÃ¤rkeparameter der Mannschaft <em>j</em></li>
        <li><em>X<sub>heim,j</sub></em>, <em>X<sub>ausw,j</sub></em> = Dummy-Variablen (1 wenn Mannschaft <em>j</em> spielt, sonst 0)</li>
        <li><em>Îµ<sub>i</sub></em> = Fehlerterm mit <em>Îµ<sub>i</sub></em> ~ <em>N</em>(0, <em>Ïƒ</em>Â²)</li>
      </ul>

      <h4>3. SchÃ¤tzung der erwarteten Tore</h4>
      <p>
        Aus der geschÃ¤tzten Tordifferenz <em>Î”Ì‚</em> berechnen wir die erwarteten Tore:
      </p>
      <div class="equation">
        <em>Î»<sub>heim</sub></em> = max(0.1, (<em>Î›</em> + <em>Î”Ì‚</em>) / 2)
      </div>
      <div class="equation">
        <em>Î»<sub>ausw</sub></em> = max(0.1, <em>Î›</em> - <em>Î»<sub>heim</sub></em>)
      </div>
      <p>
        wobei <em>Î›</em> = 5.0 die durchschnittliche Gesamttoranzahl pro Spiel darstellt.
      </p>

      <h4>4. Berechnung der Ergebniswahrscheinlichkeiten</h4>
      <p>
        Die Wahrscheinlichkeit fÃ¼r ein bestimmtes Ergebnis (<em>k</em>, <em>m</em>) ist das Produkt der einzelnen Poisson-Wahrscheinlichkeiten:
      </p>
      <div class="equation">
        <em>P</em>(<em>k</em>, <em>m</em>) = <em>P</em>(<em>X<sub>heim</sub></em> = <em>k</em>) Â· <em>P</em>(<em>X<sub>ausw</sub></em> = <em>m</em>)
      </div>

      <h4>5. Aggregierte SpielausgÃ¤nge</h4>
      <p>
        Durch Summation Ã¼ber alle mÃ¶glichen Ergebnisse bis zu einem Maximum von 8 Toren erhalten wir:
      </p>
      <div class="equation">
        <em>P</em>(Heimsieg) = Î£<sub><em>k</em>=0</sub><sup>8</sup> Î£<sub><em>m</em>=0</sub><sup><em>k</em>-1</sup> <em>P</em>(<em>k</em>, <em>m</em>)
      </div>
      <div class="equation">
        <em>P</em>(Unentschieden) = Î£<sub><em>k</em>=0</sub><sup>8</sup> <em>P</em>(<em>k</em>, <em>k</em>)
      </div>
      <div class="equation">
        <em>P</em>(AuswÃ¤rtssieg) = Î£<sub><em>m</em>=0</sub><sup>8</sup> Î£<sub><em>k</em>=0</sub><sup><em>m</em>-1</sup> <em>P</em>(<em>k</em>, <em>m</em>)
      </div>

      <h4>6. Normalisierung</h4>
      <p>
        Zur Sicherstellung der Wahrscheinlichkeitsaxiome normalisieren wir:
      </p>
      <div class="equation">
        <em>P<sub>norm</sub></em>(<em>Ereignis</em>) = <em>P</em>(<em>Ereignis</em>) / (<em>P</em>(Heimsieg) + <em>P</em>(Unentschieden) + <em>P</em>(AuswÃ¤rtssieg))
      </div>
      <p>
        sodass Î£ <em>P<sub>norm</sub></em> = 1
      </p>

      <h4>7. Modellannahmen und Limitationen</h4>
      <ul>
        <li><strong>UnabhÃ¤ngigkeit:</strong> Tore werden als unabhÃ¤ngige Ereignisse betrachtet</li>
        <li><strong>StationaritÃ¤t:</strong> MannschaftsstÃ¤rken bleiben Ã¼ber die Saison konstant</li>
        <li><strong>HomoskedastizitÃ¤t:</strong> Konstante Fehlervarianz <em>Ïƒ</em>Â² fÃ¼r alle Beobachtungen</li>
        <li><strong>Normalverteilung:</strong> Residuen <em>Îµ<sub>i</sub></em> sind normalverteilt</li>
        <li><strong>LinearitÃ¤t:</strong> Linearer Zusammenhang zwischen Tordifferenz und MannschaftsstÃ¤rken</li>
      </ul>

      <h4>8. Statistische GÃ¼tekriterien</h4>
      <p>
        Das Modell wird mittels der Methode der kleinsten Quadrate geschÃ¤tzt:
      </p>
      <div class="equation">
        min<sub><em>Î²</em></sub> Î£<sub><em>i</em>=1</sub><sup><em>n</em></sup> (<em>y<sub>i</sub></em> - <em>Å·<sub>i</sub></em>)Â²
      </div>
      <p>
        wobei <em>Å·<sub>i</sub></em> = <em>Î²Ì‚</em><sub>0</sub> + Î£<sub><em>j</em></sub> <em>Î²Ì‚<sub>j</sub></em> Â· (<em>X<sub>heim,j</sub></em> - <em>X<sub>ausw,j</sub></em>) die geschÃ¤tzte Tordifferenz ist.
      </p>

      <h4>9. Erweiterte Formulierung</h4>
      <p>
        In Matrix-Notation lÃ¤sst sich das Modell elegant darstellen als:
      </p>
      <div class="equation">
        <strong><em>y</em></strong> = <strong><em>X</em></strong><strong><em>Î²</em></strong> + <strong><em>Îµ</em></strong>
      </div>
      <p>
        mit der LÃ¶sung des Normalgleichungssystems:
      </p>
      <div class="equation">
        <strong><em>Î²Ì‚</em></strong> = (<strong><em>X</em></strong><sup>T</sup><strong><em>X</em></strong>)<sup>-1</sup> <strong><em>X</em></strong><sup>T</sup> <strong><em>y</em></strong>
      </div>

      <h4>10. Konfidenzbereiche</h4>
      <p>
        Die Standardfehler der ParameterschÃ¤tzer berechnen sich aus:
      </p>
      <div class="equation">
        <em>SE</em>(<em>Î²Ì‚<sub>j</sub></em>) = <em>ÏƒÌ‚</em> Â· âˆš[(<strong><em>X</em></strong><sup>T</sup><strong><em>X</em></strong>)<sup>-1</sup>]<sub><em>jj</em></sub>
      </div>
      <p>
        mit <em>ÏƒÌ‚</em>Â² = Î£(<em>y<sub>i</sub></em> - <em>Å·<sub>i</sub></em>)Â² / (<em>n</em> - <em>p</em>), wobei <em>p</em> die Anzahl der Parameter darstellt.
      </p>

      <h3>Implementierung</h3>
      <p>
        Das Modell wurde in Python unter Verwendung der Bibliotheken <code>statsmodels</code> (fÃ¼r die OLS-Regression) und <code>scipy.stats</code> (fÃ¼r die Poisson-Verteilung) implementiert. Die Berechnung erfolgt automatisch bei jedem Build-Prozess auf Basis der aktuellen Spieldaten.
      </p>

      <h3>Validierung</h3>
      <p>
        Die PrognosegÃ¼te wird kontinuierlich durch Vergleich der vorhergesagten mit den tatsÃ¤chlich eingetretenen Ergebnissen Ã¼berprÃ¼ft. Bei signifikanten Abweichungen erfolgt eine Rekalibrierung der Modellparameter.
      </p>

      <p class="footer-note">
        <em>Entwickelt fÃ¼r die Saison 25/26 | Mathematisch-statistische Grundlage basierend auf etablierten Methoden der Sportwissenschaft</em>
      </p>
    </div>
  </section>
{% endblock %}
